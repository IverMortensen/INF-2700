<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>db2700: pager.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">db2700
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('pager_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">pager.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A pager for accessing file blocks through buffer pages.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="pmsg_8h_source.html">pmsg.h</a>&quot;</code><br />
</div>
<p><a href="pager_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad51ded0bbd705f02f73fc60c0b721ced"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a>&#160;&#160;&#160;512L</td></tr>
<tr class="separator:ad51ded0bbd705f02f73fc60c0b721ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae12c40b3b2496ea64cbd1f626d4a5817"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#ae12c40b3b2496ea64cbd1f626d4a5817">NUM_PAGES</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:ae12c40b3b2496ea64cbd1f626d4a5817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af11125b8a270a84314fdb616e19b11ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#af11125b8a270a84314fdb616e19b11ec">PAGE_HEADER_SIZE</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:af11125b8a270a84314fdb616e19b11ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4777ede3ed2173c78fab7798ad6eddb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#ae4777ede3ed2173c78fab7798ad6eddb">MAX_OPEN_FILES</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:ae4777ede3ed2173c78fab7798ad6eddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ac36dd0f02f263e5966ac1d1ecbd1bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a3ac36dd0f02f263e5966ac1d1ecbd1bd">INT_SIZE</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a3ac36dd0f02f263e5966ac1d1ecbd1bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a671680adac5a11c689cea2ede7bb9550"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structblock__struct.html">block_struct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a671680adac5a11c689cea2ede7bb9550">block_p</a></td></tr>
<tr class="separator:a671680adac5a11c689cea2ede7bb9550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a386999387e0830dbb2bdffd016ee4186"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structpage__struct.html">page_struct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a></td></tr>
<tr class="separator:a386999387e0830dbb2bdffd016ee4186"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae5d686c8d213b5cac0a1d51f6e86c6b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#ae5d686c8d213b5cac0a1d51f6e86c6b3">put_file_info</a> (<a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level, char const *fname)</td></tr>
<tr class="separator:ae5d686c8d213b5cac0a1d51f6e86c6b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4bfd437cbedb7ddedec20e67e673b44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#af4bfd437cbedb7ddedec20e67e673b44">put_page_info</a> (<a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level, <a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p)</td></tr>
<tr class="separator:af4bfd437cbedb7ddedec20e67e673b44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6432ef7457cc8fd0cb1071544105578"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#ae6432ef7457cc8fd0cb1071544105578">put_block_info</a> (<a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level, <a class="el" href="pager_8h.html#a671680adac5a11c689cea2ede7bb9550">block_p</a> b)</td></tr>
<tr class="separator:ae6432ef7457cc8fd0cb1071544105578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff79730d54be1e86444379e9e0008a23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#aff79730d54be1e86444379e9e0008a23">put_pager_info</a> (<a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level, char const *msg)</td></tr>
<tr class="separator:aff79730d54be1e86444379e9e0008a23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05696f13db13dbb9e7eaab744e459716"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a05696f13db13dbb9e7eaab744e459716">put_pager_profiler_info</a> (<a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level)</td></tr>
<tr class="separator:a05696f13db13dbb9e7eaab744e459716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4859578560f2f62031cff8313116fa2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a4859578560f2f62031cff8313116fa2f">put_pqueues_info</a> (<a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level)</td></tr>
<tr class="separator:a4859578560f2f62031cff8313116fa2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5559a8e8a485dea5cbb181962b102aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#ad5559a8e8a485dea5cbb181962b102aa">set_system_dir</a> (char const *dir)</td></tr>
<tr class="separator:ad5559a8e8a485dea5cbb181962b102aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f18445506dd6cb64577e6b8d449859e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a7f18445506dd6cb64577e6b8d449859e">system_dir</a> ()</td></tr>
<tr class="separator:a7f18445506dd6cb64577e6b8d449859e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f76fe5fe3b92e3536f5123dd4db10d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a75f76fe5fe3b92e3536f5123dd4db10d">pager_init</a> (void)</td></tr>
<tr class="separator:a75f76fe5fe3b92e3536f5123dd4db10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52d442ae882695568880d1f6a064c220"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a52d442ae882695568880d1f6a064c220">pager_terminate</a> (void)</td></tr>
<tr class="separator:a52d442ae882695568880d1f6a064c220"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57a3ad1575574bf1af1eabcc6e5b80f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a57a3ad1575574bf1af1eabcc6e5b80f6">pager_profiler_reset</a> (void)</td></tr>
<tr class="separator:a57a3ad1575574bf1af1eabcc6e5b80f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c0b3826f2942ce95e23f883671bd211"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a9c0b3826f2942ce95e23f883671bd211">get_page</a> (char const *fname, int blknr)</td></tr>
<tr class="separator:a9c0b3826f2942ce95e23f883671bd211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac76684c788276e282e0d3de6388d4387"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#ac76684c788276e282e0d3de6388d4387">get_page_for_append</a> (char const *fname)</td></tr>
<tr class="separator:ac76684c788276e282e0d3de6388d4387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab05479ee43554db35ff2a157d9c39592"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#ab05479ee43554db35ff2a157d9c39592">get_next_page</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p)</td></tr>
<tr class="separator:ab05479ee43554db35ff2a157d9c39592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b823fe5794c31c0a5d987f60568c556"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a6b823fe5794c31c0a5d987f60568c556">page_set_pos_begin</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p)</td></tr>
<tr class="separator:a6b823fe5794c31c0a5d987f60568c556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70888ef66bc43de14f676d9db0fc717d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a70888ef66bc43de14f676d9db0fc717d">file_num_blocks</a> (char const *fname)</td></tr>
<tr class="separator:a70888ef66bc43de14f676d9db0fc717d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b6e3cb0a34826f17caa9021b71e32c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a72b6e3cb0a34826f17caa9021b71e32c">close_file</a> (char const *fname)</td></tr>
<tr class="separator:a72b6e3cb0a34826f17caa9021b71e32c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a02f62791da89bfc6314778d2aed65"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a42a02f62791da89bfc6314778d2aed65">pin</a> (<a class="el" href="pager_8h.html#a671680adac5a11c689cea2ede7bb9550">block_p</a> b)</td></tr>
<tr class="separator:a42a02f62791da89bfc6314778d2aed65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a6d2a96cc8e7e364c00b997663bafcf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a5a6d2a96cc8e7e364c00b997663bafcf">unpin</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p)</td></tr>
<tr class="separator:a5a6d2a96cc8e7e364c00b997663bafcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7df86be437e842c66115a00daa85f0f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a7df86be437e842c66115a00daa85f0f9">read_page</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p)</td></tr>
<tr class="separator:a7df86be437e842c66115a00daa85f0f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f24a7387621c761b7c68908f969f976"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a8f24a7387621c761b7c68908f969f976">write_page</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p)</td></tr>
<tr class="separator:a8f24a7387621c761b7c68908f969f976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4edda2c8b563580051237b2071b61f57"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a4edda2c8b563580051237b2071b61f57">page_block_nr</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p)</td></tr>
<tr class="separator:a4edda2c8b563580051237b2071b61f57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22cd5cbd3395cfcf1683e5d26d368a87"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a22cd5cbd3395cfcf1683e5d26d368a87">page_current_pos</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p)</td></tr>
<tr class="separator:a22cd5cbd3395cfcf1683e5d26d368a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56a50369677f6867f99c527b240af50e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a56a50369677f6867f99c527b240af50e">page_set_current_pos</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p, int pos)</td></tr>
<tr class="separator:a56a50369677f6867f99c527b240af50e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2ec49e0fd3c00804c5cf019ffd939f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#ab2ec49e0fd3c00804c5cf019ffd939f0">page_valid_pos_for_get</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p, int offset)</td></tr>
<tr class="separator:ab2ec49e0fd3c00804c5cf019ffd939f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4017443dc8ef65a01c4036cb34309c35"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a4017443dc8ef65a01c4036cb34309c35">page_valid_pos_for_put</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p, int offset, int len)</td></tr>
<tr class="separator:a4017443dc8ef65a01c4036cb34309c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a240f9edff5fb6a0fcc8f4bce8bd4a963"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a240f9edff5fb6a0fcc8f4bce8bd4a963">eop</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p)</td></tr>
<tr class="separator:a240f9edff5fb6a0fcc8f4bce8bd4a963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b3bdbd6c2c2a6ad6226ad5bcd6bd936"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a4b3bdbd6c2c2a6ad6226ad5bcd6bd936">peof</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p)</td></tr>
<tr class="separator:a4b3bdbd6c2c2a6ad6226ad5bcd6bd936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adceb30d34ca97faf083e03c2d2599d47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#adceb30d34ca97faf083e03c2d2599d47">page_get_int</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p)</td></tr>
<tr class="separator:adceb30d34ca97faf083e03c2d2599d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3ad5188ed0e9194283c6fb120b1c805"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#ab3ad5188ed0e9194283c6fb120b1c805">page_put_int</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p, int val)</td></tr>
<tr class="separator:ab3ad5188ed0e9194283c6fb120b1c805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a139b8f8707d0a1d86dd103f912876abb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a139b8f8707d0a1d86dd103f912876abb">page_get_int_at</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p, int offset)</td></tr>
<tr class="separator:a139b8f8707d0a1d86dd103f912876abb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb993fada14418a8fe30e82b248561b9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#acb993fada14418a8fe30e82b248561b9">page_put_int_at</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p, int offset, int val)</td></tr>
<tr class="separator:acb993fada14418a8fe30e82b248561b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f00bd55b790f59837b93fe81f178a62"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#a5f00bd55b790f59837b93fe81f178a62">page_get_str</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p, char *str, int len)</td></tr>
<tr class="separator:a5f00bd55b790f59837b93fe81f178a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aead16fd4423333239b915a30c08332f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#aead16fd4423333239b915a30c08332f1">page_put_str</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p, char const *str, int len)</td></tr>
<tr class="separator:aead16fd4423333239b915a30c08332f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2cbe9990616cefc23cb7009925fc6da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#ab2cbe9990616cefc23cb7009925fc6da">page_get_str_at</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p, int offset, char *str, int len)</td></tr>
<tr class="separator:ab2cbe9990616cefc23cb7009925fc6da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae34035597cd33845c8fc2c921548604d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#ae34035597cd33845c8fc2c921548604d">page_put_str_at</a> (<a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> p, int offset, char const *str, int len)</td></tr>
<tr class="separator:ae34035597cd33845c8fc2c921548604d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae5ac157c855c6fdadae13a162733aa9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8h.html#ae5ac157c855c6fdadae13a162733aa9b">pages</a> []</td></tr>
<tr class="separator:ae5ac157c855c6fdadae13a162733aa9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >A pager for accessing file blocks through buffer pages. </p>
<dl class="section author"><dt>Author</dt><dd>Weihai Yu</dd></dl>
<p>A pager maintains a number of buffer pages in the main memory.</p>
<p >Start a pager with <a class="el" href="pager_8h.html#a75f76fe5fe3b92e3536f5123dd4db10d">pager_init()</a> and terminate it with <a class="el" href="pager_8h.html#a52d442ae882695568880d1f6a064c220">pager_terminate()</a>.</p>
<p >To process data stored in a table file, first use <a class="el" href="pager_8h.html#a9c0b3826f2942ce95e23f883671bd211">get_page()</a> to get the page of a given block. If there is no page for the block yet, <a class="el" href="pager_8h.html#a9c0b3826f2942ce95e23f883671bd211">get_page()</a> tries to associate a page with the block. If it is the first time to get a page for a table that does not exist yet, <a class="el" href="pager_8h.html#a9c0b3826f2942ce95e23f883671bd211">get_page()</a> will try to create a file for the table. The file is located at <a class="el" href="pager_8c.html#af194b29f04ea0c7ddee92ca51dce1b68">sys_dir</a>.</p>
<p >It is also possible to use <a class="el" href="pager_8h.html#ac76684c788276e282e0d3de6388d4387">get_page_for_append()</a> or <a class="el" href="pager_8h.html#ab05479ee43554db35ff2a157d9c39592">get_next_page()</a> to get an appropriate page.</p>
<p >After getting the page, use <a class="el" href="pager_8h.html#a7df86be437e842c66115a00daa85f0f9">read_page()</a> to read the content of a block into the page, or <a class="el" href="pager_8h.html#a8f24a7387621c761b7c68908f969f976">write_page()</a> to write the content of a page into the block.</p>
<p >When a page is <em>pinned</em> to a block, it cannot be replaced by another block unless all pages are pinned. <a class="el" href="pager_8h.html#a5a6d2a96cc8e7e364c00b997663bafcf">unpin()</a> a page to allow the page to be associated with another block.</p>
<p >A page has a <em>current position</em> that can be obtained with <a class="el" href="pager_8h.html#a22cd5cbd3395cfcf1683e5d26d368a87">page_current_pos()</a>. To access a data value of type <em>x</em> at the current position, where <em>x</em> could be int or str, use <a class="el" href="pager_8h.html#adceb30d34ca97faf083e03c2d2599d47">page_get_x()</a> and <a class="el" href="pager_8h.html#ab3ad5188ed0e9194283c6fb120b1c805">page_put_x()</a>. To access a value at a particular position, use <a class="el" href="pager_8h.html#a139b8f8707d0a1d86dd103f912876abb">page_get_x_at()</a> and <a class="el" href="pager_8h.html#acb993fada14418a8fe30e82b248561b9">page_put_x_at()</a>.</p>
<p ><a class="el" href="pager_8h.html#ae6432ef7457cc8fd0cb1071544105578">put_..._info()</a> are useful for printing out various info during debugging.</p>
<p >Reset the pager profiler with <a class="el" href="pager_8h.html#a57a3ad1575574bf1af1eabcc6e5b80f6">pager_profiler_reset()</a> before <a class="el" href="pager_8h.html#a05696f13db13dbb9e7eaab744e459716">profiling</a> the pager.</p>
<p >See source code in <a class="el" href="schema_8c.html">schema.c</a> for examples of how to use the pager. </p>

<p class="definition">Definition in file <a class="el" href="pager_8h_source.html">pager.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad51ded0bbd705f02f73fc60c0b721ced" name="ad51ded0bbd705f02f73fc60c0b721ced"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad51ded0bbd705f02f73fc60c0b721ced">&#9670;&nbsp;</a></span>BLOCK_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLOCK_SIZE&#160;&#160;&#160;512L</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >block size in number of bytes </p>

<p class="definition">Definition at line <a class="el" href="pager_8h_source.html#l00056">56</a> of file <a class="el" href="pager_8h_source.html">pager.h</a>.</p>

</div>
</div>
<a id="a3ac36dd0f02f263e5966ac1d1ecbd1bd" name="a3ac36dd0f02f263e5966ac1d1ecbd1bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ac36dd0f02f263e5966ac1d1ecbd1bd">&#9670;&nbsp;</a></span>INT_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INT_SIZE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >an integer consists of 4 bytes </p>

<p class="definition">Definition at line <a class="el" href="pager_8h_source.html#l00068">68</a> of file <a class="el" href="pager_8h_source.html">pager.h</a>.</p>

</div>
</div>
<a id="ae4777ede3ed2173c78fab7798ad6eddb" name="ae4777ede3ed2173c78fab7798ad6eddb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4777ede3ed2173c78fab7798ad6eddb">&#9670;&nbsp;</a></span>MAX_OPEN_FILES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_OPEN_FILES&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >max number of open files </p>

<p class="definition">Definition at line <a class="el" href="pager_8h_source.html#l00065">65</a> of file <a class="el" href="pager_8h_source.html">pager.h</a>.</p>

</div>
</div>
<a id="ae12c40b3b2496ea64cbd1f626d4a5817" name="ae12c40b3b2496ea64cbd1f626d4a5817"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae12c40b3b2496ea64cbd1f626d4a5817">&#9670;&nbsp;</a></span>NUM_PAGES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_PAGES&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >buffer size in number of pages </p>

<p class="definition">Definition at line <a class="el" href="pager_8h_source.html#l00059">59</a> of file <a class="el" href="pager_8h_source.html">pager.h</a>.</p>

</div>
</div>
<a id="af11125b8a270a84314fdb616e19b11ec" name="af11125b8a270a84314fdb616e19b11ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af11125b8a270a84314fdb616e19b11ec">&#9670;&nbsp;</a></span>PAGE_HEADER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_HEADER_SIZE&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >number of bytes as page header </p>

<p class="definition">Definition at line <a class="el" href="pager_8h_source.html#l00062">62</a> of file <a class="el" href="pager_8h_source.html">pager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a671680adac5a11c689cea2ede7bb9550" name="a671680adac5a11c689cea2ede7bb9550"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a671680adac5a11c689cea2ede7bb9550">&#9670;&nbsp;</a></span>block_p</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structblock__struct.html">block_struct</a>* <a class="el" href="pager_8h.html#a671680adac5a11c689cea2ede7bb9550">block_p</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pager_8h_source.html#l00070">70</a> of file <a class="el" href="pager_8h_source.html">pager.h</a>.</p>

</div>
</div>
<a id="a386999387e0830dbb2bdffd016ee4186" name="a386999387e0830dbb2bdffd016ee4186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a386999387e0830dbb2bdffd016ee4186">&#9670;&nbsp;</a></span>page_p</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structpage__struct.html">page_struct</a>* <a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pager_8h_source.html#l00071">71</a> of file <a class="el" href="pager_8h_source.html">pager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a72b6e3cb0a34826f17caa9021b71e32c" name="a72b6e3cb0a34826f17caa9021b71e32c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72b6e3cb0a34826f17caa9021b71e32c">&#9670;&nbsp;</a></span>close_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int close_file </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Close the file </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00595">595</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="schema_8c_source.html#l00335">remove_table()</a>.</p>

</div>
</div>
<a id="a240f9edff5fb6a0fcc8f4bce8bd4a963" name="a240f9edff5fb6a0fcc8f4bce8bd4a963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a240f9edff5fb6a0fcc8f4bce8bd4a963">&#9670;&nbsp;</a></span>eop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int eop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >returns true (non-zero) if current position is at the <em>end-of-page</em> </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00925">925</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, and <a class="el" href="pager_8c_source.html#l00062">page_struct::free_pos</a>.</p>

<p class="reference">Referenced by <a class="el" href="testpager_8c_source.html#l00050">test_page_read()</a>, and <a class="el" href="testpager_8c_source.html#l00134">test_page_read_with_offset()</a>.</p>

</div>
</div>
<a id="a70888ef66bc43de14f676d9db0fc717d" name="a70888ef66bc43de14f676d9db0fc717d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70888ef66bc43de14f676d9db0fc717d">&#9670;&nbsp;</a></span>file_num_blocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int file_num_blocks </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Number of blocks in the file </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00566">566</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="schema_8c_source.html#l00078">put_tbl_info()</a>.</p>

</div>
</div>
<a id="ab05479ee43554db35ff2a157d9c39592" name="ab05479ee43554db35ff2a157d9c39592"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab05479ee43554db35ff2a157d9c39592">&#9670;&nbsp;</a></span>get_next_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> get_next_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the next page </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00791">791</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<a id="a9c0b3826f2942ce95e23f883671bd211" name="a9c0b3826f2942ce95e23f883671bd211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c0b3826f2942ce95e23f883671bd211">&#9670;&nbsp;</a></span>get_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> get_page </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blknr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get a page for a file block. A block is identified by the file and the block number <em>blknr</em> (starting at 0. blknr = -1 for the last block at the end of the file). <a class="el" href="pager_8h.html#a9c0b3826f2942ce95e23f883671bd211">get_page()</a> does the following</p><ul>
<li>open_tbl_file() (and open/create the file on demand);</li>
<li>returns the block if it is already managed in the file handle;</li>
<li>otherwise,<ul>
<li>make it managed in the <a class="el" href="structfile__handle__struct.html">file handle</a>;</li>
<li>pin the block to a buffer page (and read the block into the page).</li>
<li>Returns NULL upon failure of getting the page or pinning (reading) the page.</li>
<li>The current position of the page is set to right after the header </li>
</ul>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00740">740</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="pager_8c_source.html#l00784">get_page_for_append()</a>, <a class="el" href="schema_8c_source.html#l00529">set_tbl_position()</a>, <a class="el" href="testpager_8c_source.html#l00050">test_page_read()</a>, <a class="el" href="testpager_8c_source.html#l00134">test_page_read_with_offset()</a>, <a class="el" href="testpager_8c_source.html#l00012">test_page_write()</a>, and <a class="el" href="testpager_8c_source.html#l00098">test_page_write_with_offset()</a>.</p>

</div>
</div>
<a id="ac76684c788276e282e0d3de6388d4387" name="ac76684c788276e282e0d3de6388d4387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac76684c788276e282e0d3de6388d4387">&#9670;&nbsp;</a></span>get_page_for_append()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> get_page_for_append </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the last block and move the current position to the end </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00784">784</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pager_8c_source.html#l00062">page_struct::free_pos</a>, and <a class="el" href="pager_8c_source.html#l00740">get_page()</a>.</p>

<p class="reference">Referenced by <a class="el" href="schema_8c_source.html#l00667">append_record()</a>, and <a class="el" href="schema_8c_source.html#l00529">set_tbl_position()</a>.</p>

</div>
</div>
<a id="a4edda2c8b563580051237b2071b61f57" name="a4edda2c8b563580051237b2071b61f57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4edda2c8b563580051237b2071b61f57">&#9670;&nbsp;</a></span>page_block_nr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_block_nr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Return page's block number. </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00875">875</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00039">block_struct::blk_nr</a>, <a class="el" href="pager_8c_source.html#l00058">page_struct::block</a>, <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

</div>
</div>
<a id="a22cd5cbd3395cfcf1683e5d26d368a87" name="a22cd5cbd3395cfcf1683e5d26d368a87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22cd5cbd3395cfcf1683e5d26d368a87">&#9670;&nbsp;</a></span>page_current_pos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_current_pos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Return page's current position. </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00883">883</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

</div>
</div>
<a id="adceb30d34ca97faf083e03c2d2599d47" name="adceb30d34ca97faf083e03c2d2599d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adceb30d34ca97faf083e03c2d2599d47">&#9670;&nbsp;</a></span>page_get_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_get_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Retrieve the int value at the current position. </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00929">929</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pmsg_8h_source.html#l00011">FATAL</a>, <a class="el" href="pager_8h_source.html#l00068">INT_SIZE</a>, <a class="el" href="pager_8c_source.html#l00900">page_valid_pos_for_get()</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="testpager_8c_source.html#l00050">test_page_read()</a>.</p>

</div>
</div>
<a id="a139b8f8707d0a1d86dd103f912876abb" name="a139b8f8707d0a1d86dd103f912876abb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a139b8f8707d0a1d86dd103f912876abb">&#9670;&nbsp;</a></span>page_get_int_at()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_get_int_at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Retrieve the int value at <em>offset</em>. The current position is moved to the next value. </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00949">949</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pmsg_8h_source.html#l00011">FATAL</a>, <a class="el" href="pager_8h_source.html#l00068">INT_SIZE</a>, <a class="el" href="pager_8c_source.html#l00900">page_valid_pos_for_get()</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

</div>
</div>
<a id="a5f00bd55b790f59837b93fe81f178a62" name="a5f00bd55b790f59837b93fe81f178a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f00bd55b790f59837b93fe81f178a62">&#9670;&nbsp;</a></span>page_get_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_get_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Retrieve the string value at the current position. The return value -1 indicates a failure. It is the resposibility of the program using the pager to manage the returned string memory (i.e., to free the memory when the string is no longer used). </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00969">969</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pmsg_8h_source.html#l00011">FATAL</a>, <a class="el" href="pager_8c_source.html#l00900">page_valid_pos_for_get()</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

</div>
</div>
<a id="ab2cbe9990616cefc23cb7009925fc6da" name="ab2cbe9990616cefc23cb7009925fc6da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2cbe9990616cefc23cb7009925fc6da">&#9670;&nbsp;</a></span>page_get_str_at()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_get_str_at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Retrieve the string value at <em>offset</em>. The return value -1 indicates a failure. It is the resposibility of the program using the pager to manage the returned string memory. The current position is moved to the next value. </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00989">989</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pmsg_8h_source.html#l00011">FATAL</a>, <a class="el" href="pager_8c_source.html#l00900">page_valid_pos_for_get()</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

</div>
</div>
<a id="ab3ad5188ed0e9194283c6fb120b1c805" name="ab3ad5188ed0e9194283c6fb120b1c805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3ad5188ed0e9194283c6fb120b1c805">&#9670;&nbsp;</a></span>page_put_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_put_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Put the int value <em>val</em> at the current position. Returns 0 if there is not enough space at current position. The current position is moved to the next value. </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00939">939</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, <a class="el" href="pager_8h_source.html#l00068">INT_SIZE</a>, and <a class="el" href="pager_8c_source.html#l00909">page_valid_pos_for_put()</a>.</p>

<p class="reference">Referenced by <a class="el" href="testpager_8c_source.html#l00012">test_page_write()</a>.</p>

</div>
</div>
<a id="acb993fada14418a8fe30e82b248561b9" name="acb993fada14418a8fe30e82b248561b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb993fada14418a8fe30e82b248561b9">&#9670;&nbsp;</a></span>page_put_int_at()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_put_int_at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Put the int value <em>val</em> at <em>offset</em>. Returns 0 if fails (<em>offset</em> out of range) </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00959">959</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, <a class="el" href="pager_8h_source.html#l00068">INT_SIZE</a>, and <a class="el" href="pager_8c_source.html#l00909">page_valid_pos_for_put()</a>.</p>

</div>
</div>
<a id="aead16fd4423333239b915a30c08332f1" name="aead16fd4423333239b915a30c08332f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aead16fd4423333239b915a30c08332f1">&#9670;&nbsp;</a></span>page_put_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_put_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Put the string value <em>str</em> of length <em>len</em> at the current position. <em>len</em> includes the ending '\n' of the string. Returns 0 if there is not enough space at current position. The current position is moved to the next value. </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00979">979</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, and <a class="el" href="pager_8c_source.html#l00909">page_valid_pos_for_put()</a>.</p>

</div>
</div>
<a id="ae34035597cd33845c8fc2c921548604d" name="ae34035597cd33845c8fc2c921548604d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae34035597cd33845c8fc2c921548604d">&#9670;&nbsp;</a></span>page_put_str_at()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_put_str_at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Put the string value <em>str</em> of length <em>len</em> at <em>offset</em>. <em>len</em> includes the ending '\n' of the string. Returns 0 if fails (<em>offset</em> out of range). </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00999">999</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, and <a class="el" href="pager_8c_source.html#l00909">page_valid_pos_for_put()</a>.</p>

</div>
</div>
<a id="a56a50369677f6867f99c527b240af50e" name="a56a50369677f6867f99c527b240af50e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56a50369677f6867f99c527b240af50e">&#9670;&nbsp;</a></span>page_set_current_pos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_set_current_pos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set page's current position. </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00891">891</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

</div>
</div>
<a id="a6b823fe5794c31c0a5d987f60568c556" name="a6b823fe5794c31c0a5d987f60568c556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b823fe5794c31c0a5d987f60568c556">&#9670;&nbsp;</a></span>page_set_pos_begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_set_pos_begin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set current position to the beginning </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00797">797</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, and <a class="el" href="pager_8h_source.html#l00062">PAGE_HEADER_SIZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="schema_8c_source.html#l00529">set_tbl_position()</a>.</p>

</div>
</div>
<a id="ab2ec49e0fd3c00804c5cf019ffd939f0" name="ab2ec49e0fd3c00804c5cf019ffd939f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2ec49e0fd3c00804c5cf019ffd939f0">&#9670;&nbsp;</a></span>page_valid_pos_for_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_valid_pos_for_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Check if <em>offset</em> is valid for getting a value </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00900">900</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00062">page_struct::free_pos</a>, <a class="el" href="pager_8h_source.html#l00062">PAGE_HEADER_SIZE</a>, <a class="el" href="pager_8c_source.html#l00057">page_struct::page_nr</a>, <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>, and <a class="el" href="pmsg_8h_source.html#l00013">WARN</a>.</p>

<p class="reference">Referenced by <a class="el" href="pager_8c_source.html#l00929">page_get_int()</a>, <a class="el" href="pager_8c_source.html#l00949">page_get_int_at()</a>, <a class="el" href="pager_8c_source.html#l00969">page_get_str()</a>, and <a class="el" href="pager_8c_source.html#l00989">page_get_str_at()</a>.</p>

</div>
</div>
<a id="a4017443dc8ef65a01c4036cb34309c35" name="a4017443dc8ef65a01c4036cb34309c35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4017443dc8ef65a01c4036cb34309c35">&#9670;&nbsp;</a></span>page_valid_pos_for_put()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_valid_pos_for_put </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Check if <em>offset</em> is valid for putting a value with lenth <em>len</em> </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00909">909</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8h_source.html#l00056">BLOCK_SIZE</a>, and <a class="el" href="pager_8h_source.html#l00062">PAGE_HEADER_SIZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="pager_8c_source.html#l00939">page_put_int()</a>, <a class="el" href="pager_8c_source.html#l00959">page_put_int_at()</a>, <a class="el" href="pager_8c_source.html#l00979">page_put_str()</a>, and <a class="el" href="pager_8c_source.html#l00999">page_put_str_at()</a>.</p>

</div>
</div>
<a id="a75f76fe5fe3b92e3536f5123dd4db10d" name="a75f76fe5fe3b92e3536f5123dd4db10d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75f76fe5fe3b92e3536f5123dd4db10d">&#9670;&nbsp;</a></span>pager_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pager_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initiates a pager. Memory of buffer pages are allocated. Must be called first. </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00602">602</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00032">file_handles</a>, <a class="el" href="pager_8h_source.html#l00065">MAX_OPEN_FILES</a>, <a class="el" href="pager_8c_source.html#l00098">num_file_handles</a>, <a class="el" href="pager_8h_source.html#l00059">NUM_PAGES</a>, and <a class="el" href="pager_8c_source.html#l00100">pages</a>.</p>

<p class="reference">Referenced by <a class="el" href="schema_8c_source.html#l00298">open_db()</a>, <a class="el" href="pager_8c_source.html#l00225">set_system_dir()</a>, <a class="el" href="testpager_8c_source.html#l00050">test_page_read()</a>, <a class="el" href="testpager_8c_source.html#l00134">test_page_read_with_offset()</a>, <a class="el" href="testpager_8c_source.html#l00012">test_page_write()</a>, and <a class="el" href="testpager_8c_source.html#l00098">test_page_write_with_offset()</a>.</p>

</div>
</div>
<a id="a57a3ad1575574bf1af1eabcc6e5b80f6" name="a57a3ad1575574bf1af1eabcc6e5b80f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57a3ad1575574bf1af1eabcc6e5b80f6">&#9670;&nbsp;</a></span>pager_profiler_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pager_profiler_reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Reset th pager profiler </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00217">217</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<a id="a52d442ae882695568880d1f6a064c220" name="a52d442ae882695568880d1f6a064c220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52d442ae882695568880d1f6a064c220">&#9670;&nbsp;</a></span>pager_terminate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pager_terminate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Terminates a pager. Memory of buffer pages are released. If there are dirty pages, they are writtern back to the file blocks. All open files are closed. Must be called before the program exits. </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00680">680</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8h_source.html#l00059">NUM_PAGES</a>, and <a class="el" href="pager_8c_source.html#l00100">pages</a>.</p>

<p class="reference">Referenced by <a class="el" href="schema_8c_source.html#l00298">open_db()</a>, and <a class="el" href="pager_8c_source.html#l00225">set_system_dir()</a>.</p>

</div>
</div>
<a id="a4b3bdbd6c2c2a6ad6226ad5bcd6bd936" name="a4b3bdbd6c2c2a6ad6226ad5bcd6bd936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b3bdbd6c2c2a6ad6226ad5bcd6bd936">&#9670;&nbsp;</a></span>peof()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int peof </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >returns true (non-zero) if current position is at the <em>end-of-file</em> </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00664">664</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="schema_8c_source.html#l00542">eot()</a>.</p>

</div>
</div>
<a id="a42a02f62791da89bfc6314778d2aed65" name="a42a02f62791da89bfc6314778d2aed65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a02f62791da89bfc6314778d2aed65">&#9670;&nbsp;</a></span>pin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> pin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a671680adac5a11c689cea2ede7bb9550">block_p</a>&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Pin the block to a buffer page and read the block into the page. </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00802">802</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<a id="ae6432ef7457cc8fd0cb1071544105578" name="ae6432ef7457cc8fd0cb1071544105578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6432ef7457cc8fd0cb1071544105578">&#9670;&nbsp;</a></span>put_block_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_block_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a671680adac5a11c689cea2ede7bb9550">block_p</a>&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00154">154</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pmsg_8c_source.html#l00033">append_msg()</a>, <a class="el" href="pager_8c_source.html#l00039">block_struct::blk_nr</a>, <a class="el" href="pager_8c_source.html#l00038">block_struct::fhandle</a>, <a class="el" href="pager_8c_source.html#l00019">file_handle_struct::fname</a>, <a class="el" href="pager_8c_source.html#l00040">block_struct::page</a>, <a class="el" href="pager_8c_source.html#l00057">page_struct::page_nr</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="pager_8c_source.html#l00129">put_page_info()</a>.</p>

</div>
</div>
<a id="ae5d686c8d213b5cac0a1d51f6e86c6b3" name="ae5d686c8d213b5cac0a1d51f6e86c6b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5d686c8d213b5cac0a1d51f6e86c6b3">&#9670;&nbsp;</a></span>put_file_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_file_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>fname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00121">121</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="schema_8c_source.html#l00078">put_tbl_info()</a>.</p>

</div>
</div>
<a id="af4bfd437cbedb7ddedec20e67e673b44" name="af4bfd437cbedb7ddedec20e67e673b44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4bfd437cbedb7ddedec20e67e673b44">&#9670;&nbsp;</a></span>put_page_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_page_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00129">129</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pmsg_8c_source.html#l00033">append_msg()</a>, <a class="el" href="pager_8c_source.html#l00058">page_struct::block</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, <a class="el" href="pager_8c_source.html#l00062">page_struct::free_pos</a>, <a class="el" href="pager_8c_source.html#l00060">page_struct::pinned</a>, <a class="el" href="pager_8c_source.html#l00154">put_block_info()</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

</div>
</div>
<a id="aff79730d54be1e86444379e9e0008a23" name="aff79730d54be1e86444379e9e0008a23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff79730d54be1e86444379e9e0008a23">&#9670;&nbsp;</a></span>put_pager_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_pager_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00163">163</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00032">file_handles</a>, <a class="el" href="pager_8h_source.html#l00065">MAX_OPEN_FILES</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="testpager_8c_source.html#l00050">test_page_read()</a>, <a class="el" href="testpager_8c_source.html#l00134">test_page_read_with_offset()</a>, <a class="el" href="testpager_8c_source.html#l00012">test_page_write()</a>, and <a class="el" href="testpager_8c_source.html#l00098">test_page_write_with_offset()</a>.</p>

</div>
</div>
<a id="a05696f13db13dbb9e7eaab744e459716" name="a05696f13db13dbb9e7eaab744e459716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05696f13db13dbb9e7eaab744e459716">&#9670;&nbsp;</a></span>put_pager_profiler_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_pager_profiler_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a>&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00184">184</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="testschema_8c_source.html#l00080">test_tbl_natural_join()</a>, <a class="el" href="testschema_8c_source.html#l00041">test_tbl_read()</a>, and <a class="el" href="testschema_8c_source.html#l00013">test_tbl_write()</a>.</p>

</div>
</div>
<a id="a4859578560f2f62031cff8313116fa2f" name="a4859578560f2f62031cff8313116fa2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4859578560f2f62031cff8313116fa2f">&#9670;&nbsp;</a></span>put_pqueues_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_pqueues_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a>&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00211">211</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<a id="a7df86be437e842c66115a00daa85f0f9" name="a7df86be437e842c66115a00daa85f0f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7df86be437e842c66115a00daa85f0f9">&#9670;&nbsp;</a></span>read_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Read the content of the page from disk. If the content of the page is already uptodate, return immediately. </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00824">824</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00039">block_struct::blk_nr</a>, <a class="el" href="pager_8c_source.html#l00058">page_struct::block</a>, <a class="el" href="pager_8h_source.html#l00056">BLOCK_SIZE</a>, <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, <a class="el" href="pager_8c_source.html#l00020">file_handle_struct::fd</a>, <a class="el" href="pager_8c_source.html#l00038">block_struct::fhandle</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

</div>
</div>
<a id="ad5559a8e8a485dea5cbb181962b102aa" name="ad5559a8e8a485dea5cbb181962b102aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5559a8e8a485dea5cbb181962b102aa">&#9670;&nbsp;</a></span>set_system_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_system_dir </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set the directory of the system </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00225">225</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pmsg_8h_source.html#l00015">DEBUG</a>, <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, <a class="el" href="pager_8c_source.html#l00602">pager_init()</a>, <a class="el" href="pager_8c_source.html#l00680">pager_terminate()</a>, <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>, and <a class="el" href="pager_8c_source.html#l00015">sys_dir</a>.</p>

<p class="reference">Referenced by <a class="el" href="testmain_8c_source.html#l00010">handle_test_options()</a>.</p>

</div>
</div>
<a id="a7f18445506dd6cb64577e6b8d449859e" name="a7f18445506dd6cb64577e6b8d449859e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f18445506dd6cb64577e6b8d449859e">&#9670;&nbsp;</a></span>system_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * system_dir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the directory of the system </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00246">246</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00015">sys_dir</a>.</p>

<p class="reference">Referenced by <a class="el" href="schema_8c_source.html#l00106">put_db_info()</a>.</p>

</div>
</div>
<a id="a5a6d2a96cc8e7e364c00b997663bafcf" name="a5a6d2a96cc8e7e364c00b997663bafcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a6d2a96cc8e7e364c00b997663bafcf">&#9670;&nbsp;</a></span>unpin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unpin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Unpin the page. If the page is dirty, write the content back to disk. </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00817">817</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<a id="a8f24a7387621c761b7c68908f969f976" name="a8f24a7387621c761b7c68908f969f976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f24a7387621c761b7c68908f969f976">&#9670;&nbsp;</a></span>write_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Write the content of the (dirty) page to disk. </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00856">856</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">References <a class="el" href="pager_8c_source.html#l00039">block_struct::blk_nr</a>, <a class="el" href="pager_8c_source.html#l00058">page_struct::block</a>, <a class="el" href="pager_8h_source.html#l00056">BLOCK_SIZE</a>, <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, <a class="el" href="pager_8c_source.html#l00020">file_handle_struct::fd</a>, <a class="el" href="pager_8c_source.html#l00038">block_struct::fhandle</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae5ac157c855c6fdadae13a162733aa9b" name="ae5ac157c855c6fdadae13a162733aa9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5ac157c855c6fdadae13a162733aa9b">&#9670;&nbsp;</a></span>pages</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="pager_8h.html#a386999387e0830dbb2bdffd016ee4186">page_p</a> pages[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Database buffer </p>

<p class="definition">Definition at line <a class="el" href="pager_8c_source.html#l00100">100</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="pager_8c_source.html#l00602">pager_init()</a>, and <a class="el" href="pager_8c_source.html#l00680">pager_terminate()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="pager_8h.html">pager.h</a></li>
    <li class="footer">Generated on Tue Oct 10 2023 12:19:34 for db2700 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
